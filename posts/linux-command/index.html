<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Linux command - Semily2727-blog</title>
    <base href="https://lily2727.github.io">
    <link rel="stylesheet" href="https://lily2727.github.io/css/styles.css">
    <link rel="stylesheet" href="https://lily2727.github.io/css/font.css">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">
</head>
<body><header>
    <nav class="breadcrumb grape">
	<h4><a href="/">Semily2727-blog</a></h4>
	<div id="space"></div>
        
        <a href="/">home</a>
        
        <a href="/posts">posts</a>
        
    </nav>
</header>

<main id="single">
    <div id="post" class="white">
	<div class="container">
	    <div id="title">
                <h1>Linux command</h1>
                <time datetime="2020-05-29T02:13:17&#43;0800">2020-05-29</time>

	    </div>
            <section class="post-content">
                <h1 id="测试工程师需要掌握linux系统的必要性">测试工程师需要掌握linux系统的必要性？</h1>
<p>由于Linux在服务器领域应用非常广泛，有很多开源和成熟的软件，目前大多数的应用后台都是部署在linux上的，熟悉Linux操作系统和相关命令，可以加深我们对软件的架构和运行机制的了解，也可以增加自己核心竞争力、拓宽自己的技能栈，从而获得更高的薪水。</p>
<p>不同岗位职级，对于linux能力要求也不相同，如果你是初级测试工程师，那么有可能只需要命令查看日志，分析bug原因。如果你是中级工程师，则需要在linux环境搭建各种测试环境，包括各种应用程序，应用依赖的中间件，以及测试工具软件等。如果你是高级工程师，则需要优化系统架构，编写shell脚本，提升测试效率。</p>
<h1 id="软件测试工程师linux十大场景命令使用">软件测试工程师linux十大场景命令使用</h1>
<h2 id="日志查看">日志查看</h2>
<h3 id="实时查看tomcat日志文件查看"><strong>实时查看tomcat日志文件查看：</strong></h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">cd /home/tomcat/logs #也可用相对目录`

`tail –f catalina.out #实时打印日志文件`

`ctrl+c #退出查看
</code></pre></div><h3 id="查看日志命令">查看日志命令：</h3>
<pre><code>tail -f log.txt：循环查看
tai -500f log.txt:查看最后500行
cat file：查看短文件
less file：查看长文件
head example.txt ：显示文件 example.txt 的前十行内容` `head -n 20 example.txt：显示文件 example.txt 的前二十行内容
</code></pre><h2 id="修改配置文件内容">修改配置文件内容</h2>
<p>最常见的就是修改环境变量</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">vim /etc/profile输入字母i，

进入编辑模式（INSERT）

输入内容，按esc，进入命令模式 。

执行:wq，保持修改。

输入 soucre /etc/profile 使环境变量生效。

可以通过 cat /etc/profile查看文件是否修改成功。
</code></pre></div><h2 id="vivim编辑器">vi/vim编辑器</h2>
<p>vi/vim编辑器：linux系统提供的文本编辑工具，用来编辑文本文件。</p>
<p>vim是vi的增强版本，增加了部分命令。</p>
<p><strong>如何进入？</strong></p>
<p>新建：直接输入vi</p>
<p>打开文件进行查看或者编辑：vi 文件名</p>
<p><strong>三种模式：</strong></p>
<p><strong>插入模式:底部有“&ndash;INSERT&ndash;”标记，完成文本的编辑功能。</strong></p>
<pre><code>i：在当前光标前插入文本；
a：在当前光标后添加文本；
o：在当前光标下一行插入文本；
</code></pre><p><strong>命令模式:刚进入的状态，可以实现光标的移动以及字符的删除、复制、粘贴等。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">x：删除字符

dw/dd：删除词/删除行

yw/yy:复制词，复制行

P：粘贴

kjhl：上下左右

ctrl+f/b:翻页
</code></pre></div><p><strong>底线模式：命令模式下输入冒号进入，可设置行号、查找、替换字符、保存退出等。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">set nu/nonu:设置行号

w filename：保存文件

wq：保存退出

q！：强制退出，不保存。

edit:在vi里打开另一文件。
</code></pre></div><p><img src="https://pic3.zhimg.com/80/v2-ce37039deacf395648ba62d8a6354852_720w.jpg" alt="img">vim模式切换</p>
<h2 id="查看tomcat进程杀死进程重启进程">查看tomcat进程，杀死进程，重启进程。</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">查看tomcat进程

ps -ef|grep tomcat

ps –aux|grep tomcat

杀死进程

kill -9 进程ID

ps -ef|grep tomcat#查看进程是否已关闭

进入tomcat的bin目录cd /usr/local/tomcat/bin

启动tomcat

./startup.sh
</code></pre></div><h2 id="压缩解压缩文件">压缩解压缩文件</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">tar cvf a.tar 1.txt 2.txt 3.txt#将3个文件放到文件包a.tar中。

tar cvf /tmp/a1.tar *.txt#指定包存放的位置。

tar xvf a.tar#将文件解压缩到当前目录。

tar -zcvf a.tar.gz *.txt#打包与压缩为a.tar.gz。

tar -zxvf a.tar.gz#解压缩并解包。
</code></pre></div><p>参数说明</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">-c: 建立压缩档案
-x：解压
-t：查看内容
-r：向压缩归档文件末尾追加文件
-u：更新原压缩包中的文件
-z：有gzip属性的
-j：有bz2属性的
-Z：有compress属性的
-v：显示所有过程
-O：将文件解开到标准输出
</code></pre></div><h2 id="上传下载">上传/下载</h2>
<p>在xshell中可以通过下面的命令进行上传下载：</p>
<p>一般般需要安装，可使用 yum install lrzsz</p>
<p>rz：选择上传文件</p>
<p>sz 文件名：选择下载路径</p>
<p>当然你也可以通过xftp工具，进行可视化的上传下载。</p>
<h2 id="文件查找">文件查找</h2>
<p>**find：**实时查找，通过遍历指定起始路径下文件系统层级结构，根据文件的属性进行查找，如文件名，文件大小，所有者，所属组，是否为空，访问时间，修改时间。</p>
<p><strong>格式：</strong></p>
<p><strong>find [OPTION]&hellip; [查找路径] [查找条件] [处理动作]</strong></p>
<p><strong>结合通配符和管道命令有如下示例：</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">find /etc  -name \*****.txt** **：在/etc目录下，查找以.txt结尾的文件，给出所有文件的路径。**

**find /etc -name &#39;\*abc\*&#39;：在/etc目录下查找文件名中含有字符串‘abc’的文件。**

**find / -amin -5:查找在系统中最后5分钟访问的文件(access time)。**

**find / -mmin -5：查找在系统中最后5分钟里修改过的文件(modify time)。**

**find / -size -1000k：查找出小于1000KB的文件。**

**find /etc | grep  local   在/etc目录下查找含有local这几个字母的所有文件或者目录
</code></pre></div><h2 id="移动复制命令">移动、复制命令</h2>
<p><strong>移动mv</strong></p>
<pre><code>移动当前目录文件夹AA 到/home/aa/
mv AA/ /home/aa/
移动当前目录文件a.txt到 /home/aa/目录，并重命名为b.txt
mv a.txt /home/aa/b.txt
</code></pre><p><strong>复制 cp</strong></p>
<pre><code>复制当前目录文件a.txt到/home/B目录
cp a.txt /home/B
复制文件夹 AA到/home/B目录
cp -r AA/ /home/B
</code></pre><p><strong>跨服务器复制：scp</strong></p>
<p>命令格式： scp [参数] [原路径] [目标路径]</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">从远处复制文件到本地目录
scp root@192.168.1.204:/home/soft/tomcat.tar.gz /home/test/
上传本地文件到远程机器指定目录
scp /home/test/nginx-0.5.38.tar.gz root@192.168.1.204:/opt/soft/
</code></pre></div><h2 id="权限修改">权限修改</h2>
<p>通过ls -l命令，可查看文件的相关属性。</p>
<p>ls -l</p>
<p><strong>第一个字符：- （代表文件） d（代表目录） l（是L代表链接）</strong></p>
<p>第二到第九位是文件的所属权限。</p>
<p>Linux文件的权限分为4种：</p>
<p><strong>read（可读） write（可写） execute（可执行） none(什么也没有)</strong></p>
<p>9位分成3组：</p>
<p>第一组代表这个文件的所有者owner有什么权限</p>
<p>第二组代表这个文件的所有组group的人所拥有的权限</p>
<p>第三组代表其他人others具有什么权限</p>
<p><strong>修改文件访问权限：</strong></p>
<p>chmod who +/- r/w/x file</p>
<p>chmod u+x file 只给自己加上可执行权限</p>
<p>chmod ug+x file 所有者和所属组加上可执行权限</p>
<p>chmod u-x file 用户取消可执行权限</p>
<p><strong>在Linux(Unix)内部表示权限，是用3个二进制数来表示的</strong></p>
<p>比如000 ：0 111：7</p>
<p><strong>所以r=4，w=2，x=1</strong></p>
<p><strong>7表示权限都齐了 5表示没有写的权限</strong></p>
<p>假设owner：rwx，group：r-x，other：r-x</p>
<p>则权限设置为：chmod 755 file</p>
<h2 id="服务器性能监控">服务器性能监控</h2>
<p><strong>监控CPU、内存</strong></p>
<p>top：类似于windows的任务管理器，能够实时监控系统的运行状态，主要显示系统中各个进程的资源使用情况，如cpu、内存、负载等。</p>
<p>top命令</p>
<p>free：查看服务器内存使用情况，包括物理内存、交换内存(swap)和内核缓冲区内存的空闲和剩余统计。</p>

            </section>
	</div>
    </div>
</main>
<footer class="sand">
</footer>
<link rel="stylesheet" href="https://lily2727.github.io/css/solarized-light.css"/>
<script src="https://lily2727.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
